# Бизнес-требования на решение "Доработка внешнего API Gateway"

# ****Параметры текущей версии документа****

|     |     |
| --- | --- |
| Цель проекта/описание задачи/решения | Доработка внешнего API Gateway для улучшения безопасности, производительности и расширения функциональности. |
| **Ответственный за разработку и согласование артефакта:**
| **Соразработчик:** | Иванов Иван Иванович |
| **Согласующие:** | Петров Петр Петрович |
| Указать ссылки на другие связанные документы | Документ архитектуры API Gateway, Руководство по безопасности |

# ****1 Текущий процесс****

## ****1.1 Обработка входящих запросов****

Внешний API Gateway принимает и маршрутизирует запросы к внутренним сервисам, обеспечивая базовую аутентификацию и логирование.

## ****1.2 Мониторинг и логирование****

Система ведет базовый мониторинг и логирование запросов, но отсутствует продвинутая аналитика и оповещения.

# ****2 Целевой процесс****

## ****2.1 Концепция изменений****

Внедрение расширенных механизмов аутентификации и авторизации, улучшение производительности за счет кэширования и балансировки нагрузки, а также расширение функционала по мониторингу и аналитике.

## ****2.2 Верхнеуровневая схема процесса****

[Схема BPMN процесса](/docs/example.bpmn)

## ****2.3 Ограничения, допущения, риски****

|     |     |     |
| --- | --- | --- |
| **№** | **Вид** | **Формулировка** |
| 1   | Ограничение | Использование существующей инфраструктуры без значительных изменений |
| 2   | Допущение | Все внутренние сервисы поддерживают новые протоколы аутентификации |
| 3   | Риск | Возможные сбои при миграции на новую версию Gateway |

# ****2.4 Основные сценарии****

### ****2.4.1 Основной сценарий обработки запросов****

|     |     |
| --- | --- |
| **Сценарий** | Обработка входящих API-запросов с расширенной аутентификацией |
| Краткое описание | Обработка запросов с проверкой токенов, маршрутизацией и логированием |
| Исполнители | API Gateway, внутренние сервисы |
| Задействованная АС | API Gateway, Система аутентификации |
| Предусловия | Запрос поступил на внешний API Gateway |
| Этапы сценария | 1. Gateway принимает запрос
2. Проверяет токен аутентификации
3. Маршрутизирует запрос к сервису
4. Логирует результат |
| Постусловия | Запрос обработан, результат возвращен клиенту |
| Альтернативные сценарии | Ошибка аутентификации, таймаут сервиса |

# ****3 Требования к автоматизации****

## ****3.1 Улучшенная аутентификация и авторизация****

| № | Функция | Описание | Задействованная АС |
| --- | --- | --- | --- |
| ТА1 | Поддержка OAuth 2.0 и JWT | Реализация поддержки современных протоколов аутентификации | API Gateway |
| ТА2 | Логирование и аудит | Расширенное логирование запросов и ответов | API Gateway |

## ****3.2 Производительность и масштабируемость****

| № | Функция | Описание | Задействованная АС |
| --- | --- | --- | --- |
| ТА3 | Кэширование ответов | Внедрение кэширования для снижения нагрузки | API Gateway |

# ****4 Бизнес-оценка класса критичности****

| № | АС | Класс критичности |
| --- | --- | --- |
| 1 | API Gateway | Mission Critical |

# ****5 Требования к печатным формам****

Дополнительных требований не выявлено.

# ****6 Требования к отчетности****

Дополнительных требований не выявлено.

# ****7 Требования к миграции****

План миграции должен предусматривать поэтапное внедрение с минимальными перебоями в работе.

# ****8 Приложения****

**История изменений**

| Дата утверждения версии | Номер с ссылкой на утвержденную версию | Ссылка на задачу по разработке и согласованию артефакта в JIRADEV | Описание задачи/решения |
| --- | --- | --- | --- |
| 2024-06-05 | 1.0 | JIRA-1234 | Инициализация документа и описание требований к API Gateway |
