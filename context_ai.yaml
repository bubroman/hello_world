dochuber:           # Секция конфигурирования AI-ассистента
  contexts:         # Конфигурации контекстов
    global:         
      # Пример генерации правила
      dochub.rules.techstack:
        # Тип генератора указываем явно 
        type: dataset
        # Декларируем правило использования техстека
        source: > 
          (
            "При описании архитектурных компонентов (components) требуется использовать следующий технологический стек: "
            & ($distinct(components.*.technologies)~>$join(' ;')) & ". "
            & "Этот технологический стек актуален для всего репозитория. "
            & "Если в архитектурном компоненте будет обнаружена технология не входящая в этот список, требуется об этом сообщить пользователю."
          )
      # Пример генерации контекста на основе пакета документов
      dochub.my_metamodel:
        # Тип генератора указываем явно
        type: generator
        # Готовим массив генераторов
        source: >
          (
            /* Перебираем все документы */
            docs.$spread().(
              /* Получаем идентификатор документа */
              $key := $keys()[0];
              /* Если идентификатор относится к документации по метамодели сключаем его в выборку */
              $key~>$substring(0, 20) = "dochub.my_metamodel." 
                /* Создаем генератор */
                ? {
                  "type": "resource",                   /* Используем тип "resource" для ссылки на документ */
                  "$base": "/docs/" & $key & "/source", /* Используем "магическое" свойство указывающее от какого пути в Datalake разрешать ссылки на файлы */
                  "source": *.source                    /* Получаем ссылку на файл */
                }
            )
          )